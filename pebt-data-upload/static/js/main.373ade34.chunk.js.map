{"version":3,"sources":["helpers/helpers.js","components/Header/styles.js","components/Header/Header.js","context/DataLoaderContext.js","components/FileUpload/styles.js","components/Download/styles.js","components/FileUpload/FileUpload.js","components/App/styles.js","components/Download/Download.js","components/Summary/styles.js","components/SchoolList/styles.js","components/SchoolList/SchoolList.js","components/Summary/Summary.js","components/App/AppSecured.js","images/splashBackground.jpg","components/Login/styles.js","components/Login/Login.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["addSchoolFeatures","a","rows","fields","userSession","featureLayerUrl","addFeatures","authentication","url","features","map","row","attributes","forEach","field","name","alias","results","Container","styled","div","props","theme","palette","Brand_Blue_200","Branding","white","Logo","img","Avatar","ArcgisAccount","lightBlue","Header","account","user","portal","attemptLogout","isDev","src","alt","hideSwitchAccount","onRequestSignOut","DataLoaderContext","React","createContext","loading","undefined","setLoading","error","setError","data","setData","versionInfo","setVersionInfo","config","DownloadContainer","StyledAlert","Alert","index","Brand_Blue_100","List","DownloadButton","Button","FileUpload","onVersionError","useContext","useState","allSchools","setAllSchools","showVersionError","setShowVersionError","useEffect","filter","school","isValidField","isValidValue","handleFileChanged","e","promise","Promise","resolve","reject","fileReader","FileReader","target","files","length","readAsArrayBuffer","onload","bufferArray","result","wb","XLSX","read","type","cellDates","dateNF","hasVersioning","versionSheet","Sheets","version","sheet","uploadVersionData","utils","sheet_to_json","versionKey","major","versionError","wsName","SheetNames","ws","dataRows","schoolNameFieldExcel","onerror","then","catch","console","afterUploadMessage","accept","onChange","style","paddingTop","icon","size","href","env","templateUrl","download","ContentContainer","ContentHeader","lightestGray","ContentFooter","ModalActions","Download","getVersionData","fetch","token","response","arrayBuffer","buffer","hasOwnProperty","message","updated","date","moment","format","getVersionElements","Row","StyledList","SchoolList","schools","schoolField","height","Math","min","overscanRowCount","rowCount","rowHeight","rowRenderer","key","isScrolling","width","Summary","addResults","errorSchools","item","idx","success","push","errorMessage","color","margin","schoolNameFieldEsri","alignItems","inline","AppSecured","appConfig","setFields","currentStep","setCurrentStep","setResults","useMemo","UserSession","getFields","getLayer","featureServiceURL","layer","submitData","Provider","value","sizeRatio","position","top","left","clear","onClick","marginRight","disabled","Boolean","splashImage","LoginDialog","Modal","Content","Image","LoginButton","Login","attemptLogin","open","appElement","document","body","overlayStyle","background","fullWidth","App","loginOptions","authInfo","redirectUri","window","location","useAccountManager","accountManagerState","addAccount","logoutAccount","active","accounts","hasAccess","setHasAccess","testAccess","session","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","CalciteTheme","blue","darkBlue","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.373ade34.chunk.js","sourcesContent":["import { addFeatures } from \"@esri/arcgis-rest-feature-layer\";\nimport { request } from \"@esri/arcgis-rest-request\";\n\nexport const addSchoolFeatures = async ({\n  rows,\n  fields,\n  userSession,\n  featureLayerUrl,\n}) => {\n  const results = await addFeatures({\n    authentication: userSession,\n    url: featureLayerUrl,\n    features: rows.map((row) => {\n      let attributes = {};\n      fields.forEach((field) => {\n        attributes[field.name] = row[field.alias];\n      });\n      const feature = {\n        attributes,\n      };\n      return feature;\n    }),\n  });\n\n  return results;\n};\n\n// Helper method to quickly GET a resource\n// https://esri.github.io/arcgis-rest-js/api/request/request/\nexport function get(url, params) {\n  return new Promise((resolve, reject) => {\n    request(url, { httpMethod: \"GET\", params: params })\n      .then((response) => resolve(response))\n      .catch((error) => reject(error));\n  });\n}\n","import ArcgisAccount from \"calcite-react/ArcgisAccount\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  height: 60px;\n  padding: 10px 0px;\n  background: ${(props) => props.theme.palette.Brand_Blue_200};\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst Branding = styled.div`\n  display: flex;\n  align-items: center;\n  margin-right: 25px;\n  & img {\n    height: 70px;\n    margin-right: 15px;\n    background: #ffffff;\n    padding-left: 15px;\n  }\n  & h1 {\n    margin: 0;\n    font-size: 1.5em;\n    font-weight: 300;\n    color: ${(props) => props.theme.palette.white};\n  }\n`;\n\nconst Logo = styled.img`\n  background: ${(props) => props.theme.palette.Brand_Blue_200} !important;\n  height: 50px !important;\n`;\n\nconst Avatar = styled(ArcgisAccount)`\n  color: ${(props) => props.theme.palette.white};\n  height: auto !important;\n  background-color: ${(props) => props.theme.palette.lightBlue};\n`;\n\nexport { Container, Branding, Logo, Avatar };\n","import React from \"react\";\n// Component specific modules (Component-styled, etc.)\nimport { Avatar, Container, Branding, Logo } from \"./styles\";\n\nconst Header = ({ account: { user, portal }, attemptLogout, isDev }) => {\n  return (\n    <Container>\n      <Branding>\n        <Logo\n          src=\"https://california.maps.arcgis.com/sharing/rest/content/items/1a910074a4c0401191d8e88cea0d2d89/data\"\n          alt=\"Header Logo\"\n        />\n        <h1>{`P-EBT Data Import${isDev ? \" DEVELOPMENT\" : \"\"}`}</h1>\n      </Branding>\n      <Avatar\n        user={user}\n        portal={portal}\n        hideSwitchAccount={true}\n        onRequestSignOut={attemptLogout}\n      ></Avatar>\n    </Container>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nconst DataLoaderContext = React.createContext({\n  loading: undefined,\n  setLoading: undefined,\n  error: undefined,\n  setError: undefined,\n  data: undefined,\n  setData: undefined,\n  versionInfo: undefined,\n  setVersionInfo: undefined,\n  config: undefined,\n});\n\nexport default DataLoaderContext;\n","import styled from \"styled-components\";\nimport { List } from \"react-virtualized\";\nimport Alert from \"calcite-react/Alert\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\nconst DownloadContainer = styled.div`\n  margin-top: 15px;\n`;\n\nconst StyledAlert = styled(Alert)`\n  border: 1px solid ${(props) => props.theme.palette.Brand_Blue_200};\n  max-width: unset;\n  box-shadow: unset;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-left: 10px;\n  background-color: ${(props) =>\n    props.index % 2 ? props.theme.palette.Brand_Blue_100 : \"\"};\n`;\nconst Header = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: ${(props) => props.theme.palette.Brand_Blue_200};\n  color: #ffffff;\n`;\n\nconst StyledList = styled(List)`\n  border: 1px solid ${(props) => props.theme.palette.Brand_Blue_200};\n`;\n\nexport { Container, DownloadContainer, StyledAlert, Header, Row, StyledList };\n","import styled from \"styled-components\";\nimport Button from \"calcite-react/Button\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  height: 100%;\n`;\nconst DownloadButton = styled(Button)`\n  width: 200px;\n`;\n\nexport { Container, DownloadButton };\n","import { useContext, useEffect, useState } from \"react\";\nimport DataLoaderContext from \"../../context/DataLoaderContext\";\nimport XLSX from \"xlsx\";\n\nimport { Container, DownloadContainer, StyledAlert } from \"./styles\";\nimport { AlertTitle, AlertMessage } from \"calcite-react/Alert\";\nimport { CalciteP } from \"calcite-react/Elements\";\nimport { CalciteH2 } from \"calcite-react/Elements/Elements-styled\";\nimport ExclamationMarkTriangleIcon from \"calcite-ui-icons-react/ExclamationMarkTriangleIcon\";\nimport DownloadToIcon from \"calcite-ui-icons-react/DownloadToIcon\";\n\nimport FileUploader from \"calcite-react/FileUploader\";\nimport { DownloadButton } from \"../Download/styles\";\n\nconst FileUpload = ({ onVersionError }) => {\n  const { setLoading, data, versionInfo, setData, setError, config } =\n    useContext(DataLoaderContext);\n  const [allSchools, setAllSchools] = useState([]);\n  const [showVersionError, setShowVersionError] = useState(false);\n\n  useEffect(() => {\n    setData(\n      allSchools.filter(\n        (school) => school[config.isValidField] === config.isValidValue\n      )\n    );\n  }, [config, allSchools, setData]);\n\n  const handleFileChanged = async (e) => {\n    setError(null);\n    setData([]);\n    setLoading(true);\n    setShowVersionError(false);\n\n    const promise = new Promise((resolve, reject) => {\n      try {\n        const fileReader = new FileReader();\n        if (!e.target.files || !e.target.files.length) {\n          resolve(null);\n        }\n        fileReader.readAsArrayBuffer(e.target.files[0]);\n\n        fileReader.onload = (e) => {\n          const bufferArray = e.target.result;\n          const wb = XLSX.read(bufferArray, {\n            type: \"buffer\",\n            cellDates: true,\n            dateNF: \"YYYY-MM-DD\",\n          });\n          if (config.hasVersioning) {\n            try {\n              const versionSheet = wb.Sheets[config.version.sheet];\n              const versionRows = XLSX.utils.sheet_to_json(versionSheet);\n              const uploadVersionData = versionRows[0];\n              const versionKey = config.version.major;\n              if (versionInfo[versionKey] !== uploadVersionData[versionKey]) {\n                resolve({ versionError: true });\n              }\n            } catch (error) {\n              resolve({ versionError: true });\n            }\n          }\n\n          const wsName = wb.SheetNames[0];\n          const ws = wb.Sheets[wsName];\n          const data = XLSX.utils.sheet_to_json(ws);\n\n          const dataRows = data.filter(\n            (row) => row[config.schoolNameFieldExcel]\n          );\n\n          resolve(dataRows);\n        };\n\n        fileReader.onerror = (error) => {\n          reject(error);\n        };\n      } catch (error) {\n        reject(error);\n      }\n    });\n\n    promise.then((data) => {\n      setLoading(false);\n      if (data) {\n        if (data.versionError) {\n          setShowVersionError(true);\n        } else {\n          setAllSchools(data);\n        }\n      } else {\n        setError(\"Error Processing File\");\n      }\n    });\n    promise.catch((error) => {\n      console.error(error);\n      setError(\"Error Processing File\");\n    });\n  };\n\n  const afterUploadMessage = `The uploaded file contains valid data for ${data.length} of the ${allSchools.length} schools\n   in the district. Click Next to submit.`;\n\n  const beforeUploadMessage = `Upload your populated Excel document. Only valid rows will be submitted.`;\n\n  return (\n    <Container>\n      <CalciteH2>Upload & Review</CalciteH2>\n      <CalciteP>{beforeUploadMessage}</CalciteP>\n      <FileUploader accept=\".xlsx,.xls\" onChange={handleFileChanged} />\n      <CalciteP style={{ paddingTop: \"10px\" }}>\n        {data.length ? afterUploadMessage : \"\"}\n      </CalciteP>\n      {showVersionError ? (\n        <StyledAlert icon={<ExclamationMarkTriangleIcon size={24} />}>\n          <AlertTitle>Invalid Excel File</AlertTitle>\n          <AlertMessage>\n            The file uploaded does not match the current version of the\n            template. Please download the latest, populate, and upload again.\n          </AlertMessage>\n          <DownloadContainer>\n            <DownloadButton\n              href={config[config.env].templateUrl}\n              download=\"CASchools_District_DataTemplate.xlsx\"\n              icon={<DownloadToIcon size={16} />}\n            >\n              Download\n            </DownloadButton>\n          </DownloadContainer>\n        </StyledAlert>\n      ) : (\n        \"\"\n      )}\n    </Container>\n  );\n};\n\nexport default FileUpload;\n","import styled from \"styled-components\";\nimport { ModalActions } from \"calcite-react/Modal\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 80%;\n  max-width: 800px;\n  margin: 8% auto;\n  border: 2px solid #0a3f35;\n  box-shadow: 0px 0px 8px 2px rgb(10 10 10 / 25%);\n`;\n\nconst ContentContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  padding: 36px;\n`;\n\nconst ContentHeader = styled.div`\n  width: calc(100% - 4rem);\n  background: ${(props) => props.theme.palette.lightestGray};\n  padding: 2rem;\n`;\n\nconst ContentFooter = styled(ModalActions)`\n  justify-content: space-between;\n`;\n\nexport { Container, ContentContainer, ContentHeader, ContentFooter };\n","import React, { useContext, useEffect } from \"react\";\nimport { Container, DownloadButton } from \"./styles\";\nimport { CalciteP, CalciteH2 } from \"calcite-react/Elements\";\n\nimport DownloadToIcon from \"calcite-ui-icons-react/DownloadToIcon\";\n\nimport XLSX from \"xlsx\";\nimport moment from \"moment\";\nimport DataLoaderContext from \"../../context/DataLoaderContext\";\n\nconst Download = ({ userSession }) => {\n  const { setVersionInfo, versionInfo, setLoading, setError, config } =\n    useContext(DataLoaderContext);\n\n  useEffect(() => {\n    const getVersionData = async () => {\n      try {\n        const response = await fetch(\n          `${config[config.env].templateUrl}?token=${userSession.token}`\n        );\n        const buffer = await response.arrayBuffer();\n\n        const wb = XLSX.read(buffer, {\n          type: \"buffer\",\n          cellDates: true,\n          dateNF: \"YYYY-MM-DD\",\n        });\n        const wsName = config.version.sheet;\n        if (wb.Sheets.hasOwnProperty(wsName)) {\n          const ws = wb.Sheets[wsName];\n          const rows = XLSX.utils.sheet_to_json(ws);\n          setVersionInfo(rows[0]);\n        } else {\n          setError(`Sheet ${wsName} not found in workbook`);\n        }\n        setLoading(false);\n      } catch (err) {\n        setError(\"Unable to verify Template Version\");\n        setLoading(false);\n      }\n    };\n\n    if (config.hasVersioning && !versionInfo) {\n      setLoading(true);\n      getVersionData();\n    }\n  }, [setVersionInfo, config, setError, setLoading, userSession, versionInfo]);\n\n  const getVersionElements = () => {\n    if (!config.hasVersioning) {\n      return \"\";\n    }\n\n    const message = versionInfo[config.version.message];\n    const updated = versionInfo[config.version.date];\n\n    return (\n      <>\n        {message ? <CalciteP>{message}</CalciteP> : \"\"}\n        {updated ? (\n          <CalciteP>{`Last Updated: ${moment(\n            versionInfo[config.version.date]\n          ).format(\"LL\")}`}</CalciteP>\n        ) : (\n          \"\"\n        )}\n      </>\n    );\n  };\n  return (\n    <Container>\n      <CalciteH2>Download Template</CalciteH2>\n      <CalciteP>\n        Download Excel template. Select your county and district, then populate\n        school data.\n      </CalciteP>\n      {getVersionElements()}\n      <DownloadButton\n        href={config[config.env].templateUrl}\n        download=\"CASchools_District_DataTemplate.xlsx\"\n        icon={<DownloadToIcon size={16} />}\n      >\n        Download\n      </DownloadButton>\n    </Container>\n  );\n};\n\nexport default Download;\n","import styled from \"styled-components\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n`;\n\nexport { Container };\n","import styled from \"styled-components\";\nimport { List } from \"react-virtualized\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n`;\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-left: 10px;\n  background-color: ${(props) =>\n    props.index % 2 ? props.theme.palette.lightBlue : \"\"};\n  color: ${(props) => (props.index % 2 ? props.theme.palette.white : \"\")};\n`;\nconst Header = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: ${(props) => props.theme.palette.Brand_Blue_200};\n  color: #ffffff;\n`;\n\nconst StyledList = styled(List)`\n  border: 1px solid ${(props) => props.theme.palette.Brand_Blue_200};\n`;\n\nexport { Container, Header, Row, StyledList };\n","import { Container, Row, StyledList } from \"./styles\";\n\nconst SchoolList = ({ schools, schoolField }) => {\n  const renderRow = ({ index, isScrolling, key, style }) => {\n    const row = schools[index];\n\n    return (\n      <Row style={style} key={key} index={index}>\n        {row[schoolField]}\n      </Row>\n    );\n  };\n\n  return (\n    <Container>\n      {schools.length ? (\n        <StyledList\n          height={Math.min(200, schools.length * 40)}\n          overscanRowCount={10}\n          rowCount={schools.length}\n          rowHeight={40}\n          rowRenderer={renderRow}\n          width={600}\n        />\n      ) : (\n        \"\"\n      )}\n    </Container>\n  );\n};\n\nexport default SchoolList;\n","import { useContext } from \"react\";\nimport DataLoaderContext from \"../../context/DataLoaderContext\";\n\nimport Button from \"calcite-react/Button\";\nimport { Container } from \"./styles\";\nimport { CalciteP, CalciteH3 } from \"calcite-react/Elements\";\nimport CheckCircleIcon from \"calcite-ui-icons-react/CheckCircleIcon\";\nimport XCircleIcon from \"calcite-ui-icons-react/XCircleIcon\";\nimport SchoolList from \"../SchoolList\";\n\nconst Summary = ({ results }) => {\n  const { config, data } = useContext(DataLoaderContext);\n  const { addResults } = results;\n  let errorSchools = [];\n  addResults.forEach((item, idx) => {\n    if (!item.success) {\n      errorSchools.push(data[idx]);\n    }\n  });\n\n  const errorMessage = errorSchools.length\n    ? `There was an error submitting ${errorSchools.length} of ${addResults.length} schools. The below schools were not added.`\n    : null;\n\n  if (errorMessage) {\n    return (\n      <Container>\n        <XCircleIcon size={100} color=\"red\" style={{ margin: \"auto\" }} />\n        <CalciteH3>Error</CalciteH3>\n        <CalciteP>{errorMessage}</CalciteP>\n        <SchoolList\n          schools={errorSchools}\n          schoolField={config.schoolNameFieldEsri}\n        />\n      </Container>\n    );\n  }\n\n  return (\n    <Container style={{ alignItems: \"center\" }}>\n      <CheckCircleIcon size={100} color=\"green\" style={{ margin: \"auto\" }} />\n      <CalciteH3>{`Success! All ${addResults.length} schools updated.`}</CalciteH3>\n      <CalciteP>\n        Please navigate to the\n        <Button\n          inline\n          href=\"https://ca-reopening-status-survey-site-california.hub.arcgis.com/\"\n          target=\"_blank\"\n        >\n          {` school status submission site `}\n        </Button>{\" \"}\n        to submit your school status in accordance with AB-86 if you have not\n        done so already.\n      </CalciteP>\n    </Container>\n  );\n};\n\nexport default Summary;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { getLayer } from \"@esri/arcgis-rest-feature-layer\";\nimport { UserSession } from \"@esri/arcgis-rest-auth\";\n\nimport { addSchoolFeatures } from \"../../helpers/helpers\";\n\nimport Button from \"calcite-react/Button\";\nimport Loader from \"calcite-react/Loader\";\nimport Stepper, {\n  Step,\n  StepTitle,\n  StepDescription,\n} from \"calcite-react/Stepper\";\n\nimport Header from \"../Header\";\nimport FileUpload from \"../FileUpload\";\nimport {\n  Container,\n  ContentContainer,\n  ContentFooter,\n  ContentHeader,\n} from \"./styles\";\nimport DataLoaderContext from \"../../context/DataLoaderContext\";\nimport Download from \"../Download\";\nimport Summary from \"../Summary\";\n\nconst AppSecured = ({ account, appConfig, attemptLogout }) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState([]);\n  const [versionInfo, setVersionInfo] = useState(null);\n  const [fields, setFields] = useState([]);\n  const [currentStep, setCurrentStep] = useState(1);\n  const [results, setResults] = useState(null);\n\n  const userSession = useMemo(() => new UserSession(account), [account]);\n\n  useEffect(() => {\n    const getFields = async () => {\n      try {\n        const layer = await getLayer({\n          authentication: userSession,\n          url: appConfig[appConfig.env].featureServiceURL,\n        });\n        if (layer && layer.fields) {\n          setFields(\n            layer.fields.filter((field) => data[0].hasOwnProperty(field.alias))\n          );\n        }\n      } catch (error) {\n        console.error(error);\n        setError(\"Error Saving Data. (Fields)\");\n      }\n    };\n    if (data.length) {\n      getFields();\n    }\n  }, [data, userSession, appConfig]);\n\n  const submitData = async () => {\n    setLoading(true);\n    const results = await addSchoolFeatures({\n      rows: data,\n      fields,\n      userSession,\n      featureLayerUrl: appConfig[appConfig.env].featureServiceURL,\n    });\n    setResults(results);\n    setCurrentStep(currentStep + 1);\n    setLoading(false);\n  };\n\n  const nextLabels = [\"Next\", \"Submit\", \"Restart\"];\n\n  return (\n    <DataLoaderContext.Provider\n      value={{\n        loading,\n        setLoading,\n        error,\n        setError,\n        data,\n        setData,\n        versionInfo,\n        setVersionInfo,\n        config: appConfig,\n      }}\n    >\n      <div>\n        <Header\n          account={account}\n          attemptLogout={attemptLogout}\n          isDev={appConfig.env === \"dev\"}\n        />\n        <Container>\n          <ContentHeader>\n            <Stepper currentStep={currentStep}>\n              <Step error={error && currentStep === 1}>\n                <StepTitle>Download</StepTitle>\n                <StepDescription>\n                  {error && currentStep === 1\n                    ? error\n                    : \"Download the Excel template to report school data.\"}\n                </StepDescription>\n              </Step>\n              <Step error={error && currentStep === 2}>\n                <StepTitle>Upload</StepTitle>\n                <StepDescription>\n                  {error && currentStep === 2\n                    ? error\n                    : \"Upload the excel template populated with your schools information.\"}\n                </StepDescription>\n              </Step>\n              <Step>\n                <StepTitle>Summary</StepTitle>\n                <StepDescription>\n                  Summary of your submitted school data.\n                </StepDescription>\n              </Step>\n            </Stepper>\n          </ContentHeader>\n          <ContentContainer>\n            {loading && (\n              <Loader\n                key=\"uploadLoader\"\n                sizeRatio={2}\n                style={{ position: \"absolute\", top: \"30%\", left: \"50%\" }}\n              />\n            )}\n            {currentStep === 1 && (\n              <Download\n                versionInfo={appConfig.version}\n                userSession={userSession}\n              />\n            )}\n            {currentStep === 2 && <FileUpload />}\n            {currentStep === 3 && <Summary results={results} />}\n          </ContentContainer>\n          <ContentFooter>\n            <div>\n              {currentStep === 2 ? (\n                <Button\n                  clear\n                  onClick={() => {\n                    setCurrentStep(currentStep - 1);\n                    setError(null);\n                  }}\n                  style={{ marginRight: \".5rem\" }}\n                >\n                  Previous\n                </Button>\n              ) : (\n                \"\"\n              )}\n              <Button\n                disabled={\n                  (currentStep === 2 && (!data || !data.length)) ||\n                  Boolean(error)\n                }\n                onClick={() => {\n                  if (currentStep === 1) {\n                    setCurrentStep(currentStep + 1);\n                  } else if (currentStep === 2) {\n                    submitData();\n                  } else {\n                    setData([]);\n                    setCurrentStep(1);\n                  }\n                }}\n              >\n                {nextLabels[currentStep - 1]}\n              </Button>\n            </div>\n          </ContentFooter>\n        </Container>\n      </div>\n    </DataLoaderContext.Provider>\n  );\n};\n\nexport default AppSecured;\n","export default __webpack_public_path__ + \"static/media/splashBackground.e4c50044.jpg\";","import styled from \"styled-components\";\n\nimport Modal from \"calcite-react/Modal\";\nimport Button from \"calcite-react/Button\";\n\nimport splashImage from \"../../images/splashBackground.jpg\";\n\nconst Container = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  background: url(${(props) => (props.error ? \"\" : splashImage)}) center/cover\n    no-repeat;\n`;\n\nconst LoginDialog = styled(Modal)`\n  width: 350px;\n`;\n\nconst Content = styled.div`\n  text-align: center;\n`;\n\nconst Image = styled.img`\n  width: 177px;\n`;\n\nconst LoginButton = styled(Button)`\n  margin-top: 1rem;\n  background-color: #0a3f35;\n`;\n\nexport { Container, LoginDialog, Content, Image, LoginButton };\n","// Framework and third-party non-ui\nimport React from \"react\";\nimport { CalciteP } from \"calcite-react/Elements\";\n\n// Styles\nimport {\n  Container,\n  LoginButton,\n  Content,\n  Image,\n  LoginDialog,\n} from \"./styles.js\";\n\nconst Login = ({ attemptLogin }) => {\n  return (\n    <Container>\n      <LoginDialog\n        open={true}\n        appElement={document.body}\n        overlayStyle={{ background: \"unset\" }}\n      >\n        <Content>\n          <Image\n            src=\"https://california.maps.arcgis.com/sharing/rest/content/items/1a910074a4c0401191d8e88cea0d2d89/data\"\n            alt=\"App Logo\"\n          />\n          <CalciteP>Login to upload data.</CalciteP>\n          <LoginButton fullWidth={true} onClick={attemptLogin}>\n            Proceed to Login\n          </LoginButton>\n        </Content>\n      </LoginDialog>\n    </Container>\n  );\n};\n\nexport default Login;\n","import { useAccountManager } from \"calcite-react/ArcgisAccount\";\nimport { UserSession } from \"@esri/arcgis-rest-auth\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { getLayer } from \"@esri/arcgis-rest-feature-layer\";\n\nimport AppSecured from \"./AppSecured\";\nimport Login from \"../Login\";\n\nconst App = ({ config }) => {\n  const loginOptions = {\n    ...config.authInfo,\n    ...{ redirectUri: window.location.href },\n  };\n  const { accountManagerState, addAccount, logoutAccount } = useAccountManager(\n    loginOptions\n  );\n  const { active, accounts } = accountManagerState;\n\n  const [hasAccess, setHasAccess] = useState(null);\n\n  useEffect(() => {\n    const testAccess = async () => {\n      try {\n        const layer = await getLayer({\n          authentication: new UserSession(accounts[active]),\n          url: config[config.env].featureServiceURL,\n        });\n        if (layer && layer.fields) {\n          setHasAccess(true);\n        }\n      } catch (error) {\n        console.error(error);\n        setHasAccess(false);\n      }\n    };\n    if (active && accounts[active] && accounts[active].session) {\n      testAccess();\n    }\n  }, [accounts, active, config]);\n\n  const attemptLogin = () => {\n    addAccount(loginOptions);\n  };\n  const attemptLogout = () => {\n    logoutAccount(accounts[active]);\n  };\n\n  if (\n    active &&\n    accounts[active] &&\n    accounts[active].session &&\n    hasAccess !== null\n  ) {\n    if (hasAccess) {\n      return (\n        <AppSecured\n          appConfig={config}\n          account={accounts[active]}\n          userSession={new UserSession(accounts[active].session)}\n          attemptLogout={attemptLogout}\n        />\n      );\n    } else {\n      logoutAccount(accounts[active]);\n      return <Login attemptLogin={attemptLogin} />;\n    }\n  } else {\n    return <Login attemptLogin={attemptLogin} />;\n  }\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n// style\nimport \"./index.css\";\nimport CalciteThemeProvider, {\n  CalciteTheme,\n} from \"calcite-react/CalciteThemeProvider\";\nimport config from \"./config/config.json\";\n\nlet theme = CalciteTheme;\n\ntheme.palette.Brand_Blue_200 = \"#0a3f35\";\ntheme.palette.blue = \"#0a3f35\";\ntheme.palette.lightBlue = \"#6C8B85\";\ntheme.palette.darkBlue = \"#6C8B85\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <CalciteThemeProvider>\n      <App config={config} />\n    </CalciteThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}